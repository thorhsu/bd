import{g as S,m as w,a as B,b as I,c as P,d as R,e as M,p as F,u as T,t as V,f as H,h as L,i as z,r as _,j as D,k as f,l as E,n as N,o as a,q as U,s as j,v as q,_ as O,w as G,x as $,y as A,z as J,A as K,B as Q,C as W,D as X,E as t,F as Y,V as Z,G as p,H as ee,I as ae,J as h,K as k,L as te,M as se,N as oe,O as le,P as ne}from"./index-7b4c6403.js";import{V as ue,a as re,b as g,c as x,d as de}from"./VMain-69896192.js";const ie=S()({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...w(),...B(),...I(),...P(),...R({tag:"footer"}),...M()},setup(e,i){let{slots:l}=i;const{themeClasses:n}=F(e),{backgroundColorClasses:v,backgroundColorStyles:u}=T(V(e,"color")),{borderClasses:s}=H(e),{elevationClasses:r}=L(e),{roundedClasses:c}=z(e),y=_(32),{resizeRef:b}=D(o=>{o.length&&(y.value=o[0].target.clientHeight)}),m=f(()=>e.height==="auto"?y.value:parseInt(e.height,10)),{layoutItemStyles:d}=E({id:e.name,order:f(()=>parseInt(e.order,10)),position:f(()=>"bottom"),layoutSize:m,elementSize:f(()=>e.height==="auto"?void 0:m.value),active:f(()=>e.app),absolute:V(e,"absolute")});return N(()=>a(e.tag,{ref:b,class:["v-footer",n.value,v.value,s.value,r.value,c.value],style:[u.value,e.app?d.value:void 0]},l)),{}}});const ce=S()({name:"VHover",props:{disabled:Boolean,modelValue:{type:Boolean,default:void 0},...U()},emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:l}=i;const n=j(e,"modelValue"),{runOpenDelay:v,runCloseDelay:u}=q(e,s=>!e.disabled&&(n.value=s));return()=>{var s;return(s=l.default)==null?void 0:s.call(l,{isHovering:n.value,props:{onMouseenter:v,onMouseleave:u}})}}}),me=e=>(oe("data-v-cf146791"),e=e(),le(),e),fe=me(()=>ne("div",{class:"login-txt"},"登入",-1)),ve={__name:"Login",setup(e){const i=G(),l=$(),n=A(),v=J(),u=_(""),s=_(""),r=_(!1),c=_(!1),y=f(()=>!u.value||!s.value||r.value),b=async()=>{r.value=!0,await n.login({username:u,password:s}).then(()=>{if(r.value=!1,l.query.redirect)try{i.push({path:l.query.redirect});return}catch(m){i.push({name:"Portal"})}else i.push({name:"bd-register"})}).catch(m=>{v.showError({text:m})}),r.value=!1};return K(()=>{n.clearToken()}),Q(()=>{n.clearToken()}),(m,d)=>(W(),X(Y,null,[a(ue,{class:"login-content"},{default:t(()=>[a(re,{class:"fill-height",fluid:""},{default:t(()=>[a(g,{class:"login-row","no-gutters":"",justify:"center"},{default:t(()=>[a(x,{cols:"12",sm:"auto",class:"avatar-col"},{default:t(()=>[a(Z,{class:"avatar-icon",size:"13.9rem",color:"primary"},{default:t(()=>[p(" mdi-account-circle")]),_:1})]),_:1}),a(x,{class:"form-col text-center"},{default:t(()=>[a(de,{onSubmit:ee(b,["prevent"]),disabled:r.value},{default:t(()=>[a(ae,{defaults:{VRow:{noGutters:!0},VTextField:{variant:"solo",density:"default"}}},{default:t(()=>[a(g,{class:"input-label"},{default:t(()=>[p("帳號")]),_:1}),a(h,{class:"username-text-field input-text",modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=o=>u.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),a(g,{class:"input-label"},{default:t(()=>[p("密碼")]),_:1}),a(h,{class:"input-text",modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=o=>s.value=o),modelModifiers:{trim:!0},"append-inner-icon":c.value?"mdi-eye-off":"mdi-eye",type:c.value?"text":"password","onClick:appendInner":d[2]||(d[2]=o=>c.value=!c.value)},null,8,["modelValue","append-inner-icon","type"]),a(g,{justify:"end"},{default:t(()=>[a(ce,null,{default:t(({isHovering:o,props:C})=>[a(k,te(C,{class:{"text-decoration-underline":o},variant:"text"}),{default:t(()=>[p("忘記密碼")]),_:2},1040,["class"])]),_:1})]),_:1}),a(g,{class:"submit-btn-row"},{default:t(()=>[a(k,{color:"primary",block:"",loading:r.value,disabled:se(y),type:"submit"},{default:t(()=>[fe]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ie,{class:"login-footer"},{default:t(()=>[p("copyright © 2020 installments,Inc.")]),_:1})],64))}},_e=O(ve,[["__scopeId","data-v-cf146791"]]);export{_e as default};
