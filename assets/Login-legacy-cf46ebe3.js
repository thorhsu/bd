System.register(["./index-legacy-86459dec.js","./VMain-legacy-0918a51b.js"],(function(e,t){"use strict";var a,o,r,i,l,n,s,d,u,f,v,b,m,c,p,g,h,y,x,w,_,k,z,V,C,S,I,j,q,E,F,M,T,B,G,H,R,U,A,D,J,K,L,N,P=document.createElement("style");return P.textContent=".login-content.v-main[data-v-81e1f4b9]{background-color:#eee;background-position:center;background-size:cover}.login-row>.v-col[data-v-81e1f4b9]:not(:first-of-type){margin-left:7.24%}.login-row .form-col[data-v-81e1f4b9]{flex-basis:21.75em;max-width:21.75em}.username-text-field[data-v-81e1f4b9]{margin-bottom:2.8125rem}.input-text[data-v-81e1f4b9] .v-field__input{font-size:1.5rem}.input-label[data-v-81e1f4b9]{margin-bottom:10px;font-size:1.5rem;line-height:1.2083}.submit-btn-row[data-v-81e1f4b9]{margin-top:99px}.submit-btn-row .v-btn[data-v-81e1f4b9]{height:2.0833em;font-size:1.5rem;font-weight:700}.avatar-col[data-v-81e1f4b9]{display:flex;align-items:flex-start;justify-content:center;margin-top:5vh}.login-footer[data-v-81e1f4b9]{position:absolute;right:0;bottom:0;left:0;justify-content:center;margin:auto;font-size:1.25rem;background:transparent}@media screen and (max-width: 959px){*[data-v-81e1f4b9]{font-size:15px}.login-content.v-main[data-v-81e1f4b9]{padding:0 3%}.avatar-col[data-v-81e1f4b9]{height:22vh;margin-top:10vh;margin-bottom:9rem}.fill-height[data-v-81e1f4b9]{height:91%!important}.login-row .form-col[data-v-81e1f4b9]{max-width:100%}.submit-btn-row[data-v-81e1f4b9]{margin-top:23px;margin-bottom:5.5rem}.input-label[data-v-81e1f4b9]{font-size:2.3rem;line-height:1.2083}.login-txt[data-v-81e1f4b9]{font-size:2.1rem}.input-text[data-v-81e1f4b9] .v-field__input{font-size:19px}}.v-footer{align-items:center;display:flex;flex:1 1 auto;padding:8px 16px;position:relative;transition:.2s cubic-bezier(.4,0,.2,1);transition-property:height,width,transform,max-width,left,right,top,bottom;border-color:rgba(var(--v-border-color),var(--v-border-opacity));border-style:solid;border-width:0;box-shadow:0 0 0 0 var(--v-shadow-key-umbra-opacity, rgba(0, 0, 0, .2)),0 0 0 0 var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, .14)),0 0 0 0 var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, .12));border-radius:0;background:rgb(var(--v-theme-surface));color:rgba(var(--v-theme-on-surface),var(--v-high-emphasis-opacity))}.v-footer--border{border-width:thin;box-shadow:none}.v-footer--absolute{position:absolute}.v-footer--fixed{position:fixed}.v-footer--rounded{border-radius:4px}\n",document.head.appendChild(P),{setters:[e=>{a=e.g,o=e.m,r=e.a,i=e.b,l=e.c,n=e.d,s=e.e,d=e.p,u=e.u,f=e.t,v=e.f,b=e.h,m=e.i,c=e.r,p=e.j,g=e.k,h=e.l,y=e.n,x=e.o,w=e._,_=e.q,k=e.s,z=e.v,V=e.w,C=e.x,S=e.y,I=e.z,j=e.A,q=e.B,E=e.F,F=e.C,M=e.V,T=e.D,B=e.E,G=e.G,H=e.H,R=e.I,U=e.J,A=e.K},e=>{D=e.V,J=e.a,K=e.b,L=e.c,N=e.d}],execute:function(){const t=a()({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...o(),...r(),...i(),...l(),...n({tag:"footer"}),...s()},setup(e,t){let{slots:a}=t;const{themeClasses:o}=d(e),{backgroundColorClasses:r,backgroundColorStyles:i}=u(f(e,"color")),{borderClasses:l}=v(e),{elevationClasses:n}=b(e),{roundedClasses:s}=m(e),w=c(32),{resizeRef:_}=p((e=>{e.length&&(w.value=e[0].target.clientHeight)})),k=g((()=>"auto"===e.height?w.value:parseInt(e.height,10))),{layoutItemStyles:z}=h({id:e.name,order:g((()=>parseInt(e.order,10))),position:g((()=>"bottom")),layoutSize:k,elementSize:g((()=>"auto"===e.height?void 0:k.value)),active:g((()=>e.app)),absolute:f(e,"absolute")});return y((()=>x(e.tag,{ref:_,class:["v-footer",o.value,r.value,l.value,n.value,s.value],style:[i.value,e.app?z.value:void 0]},a))),{}}}),P=(e=>(R("data-v-81e1f4b9"),e=e(),U(),e))((()=>A("div",{class:"login-txt"},"登入",-1)));e("default",w({__name:"Login",setup(e){const a=_(),o=k(),r=z(),i=V(),l=c(""),n=c(""),s=c(!1),d=c(!1),u=g((()=>!l.value||!n.value||s.value)),f=async()=>{s.value=!0,await r.login({username:l,password:n}).then((()=>{if(s.value=!1,o.query.redirect)try{return void a.push({path:o.query.redirect})}catch(e){a.push({name:"Portal"})}else a.push({name:"bd-register"})})).catch((e=>{i.showError({text:e})})),s.value=!1};return C((()=>{r.clearToken()})),S((()=>{r.clearToken()})),(e,a)=>(I(),j(E,null,[x(D,{class:"login-content"},{default:q((()=>[x(J,{class:"fill-height",fluid:""},{default:q((()=>[x(K,{class:"login-row","no-gutters":"",justify:"center"},{default:q((()=>[x(L,{class:"form-col text-center"},{default:q((()=>[x(N,{onSubmit:F(f,["prevent"]),disabled:s.value},{default:q((()=>[x(M,{defaults:{VRow:{noGutters:!0},VTextField:{variant:"solo",density:"default"}}},{default:q((()=>[x(K,{class:"input-label"},{default:q((()=>[T("帳號")])),_:1}),x(B,{class:"username-text-field input-text",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),modelModifiers:{trim:!0}},null,8,["modelValue"]),x(K,{class:"input-label"},{default:q((()=>[T("密碼")])),_:1}),x(B,{class:"input-text",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),modelModifiers:{trim:!0},"append-inner-icon":d.value?"mdi-eye-off":"mdi-eye",type:d.value?"text":"password","onClick:appendInner":a[2]||(a[2]=e=>d.value=!d.value)},null,8,["modelValue","append-inner-icon","type"]),x(K,{class:"submit-btn-row"},{default:q((()=>[x(G,{color:"primary",block:"",loading:s.value,disabled:H(u),type:"submit"},{default:q((()=>[P])),_:1},8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["onSubmit","disabled"])])),_:1})])),_:1})])),_:1})])),_:1}),x(t,{class:"login-footer"},{default:q((()=>[T("copyright © 2020 installments,Inc.")])),_:1})],64))}},[["__scopeId","data-v-81e1f4b9"]]))}}}));
