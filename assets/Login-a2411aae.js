import{g as w,m as B,a as I,b as P,c as R,d as M,e as F,p as T,u as H,t as y,f as L,h as D,i as z,r as g,j as E,k as f,l as N,n as U,o as a,q as j,s as q,v as O,_ as G,w as $,x as A,y as J,z as K,A as Q,B as W,C as X,D as Y,E as t,F as Z,V as ee,G as V,H as ae,I as te,J as _,K as k,L as x,M as se,N as oe,O as le,P as ne}from"./index-ebc53f02.js";import{V as ue,a as re,b as p,c as S,d as de}from"./VMain-3c75602e.js";const ie=w()({name:"VFooter",props:{app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...B(),...I(),...P(),...R(),...M({tag:"footer"}),...F()},setup(e,i){let{slots:l}=i;const{themeClasses:n}=T(e),{backgroundColorClasses:v,backgroundColorStyles:u}=H(y(e,"color")),{borderClasses:s}=L(e),{elevationClasses:r}=D(e),{roundedClasses:c}=z(e),b=g(32),{resizeRef:h}=E(o=>{o.length&&(b.value=o[0].target.clientHeight)}),m=f(()=>e.height==="auto"?b.value:parseInt(e.height,10)),{layoutItemStyles:d}=N({id:e.name,order:f(()=>parseInt(e.order,10)),position:f(()=>"bottom"),layoutSize:m,elementSize:f(()=>e.height==="auto"?void 0:m.value),active:f(()=>e.app),absolute:y(e,"absolute")});return U(()=>a(e.tag,{ref:h,class:["v-footer",n.value,v.value,s.value,r.value,c.value],style:[u.value,e.app?d.value:void 0]},l)),{}}}),ce="/bd/assets/user-icon-b3daade2.png";const me=w()({name:"VHover",props:{disabled:Boolean,modelValue:{type:Boolean,default:void 0},...j()},emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:l}=i;const n=q(e,"modelValue"),{runOpenDelay:v,runCloseDelay:u}=O(e,s=>!e.disabled&&(n.value=s));return()=>{var s;return(s=l.default)==null?void 0:s.call(l,{isHovering:n.value,props:{onMouseenter:v,onMouseleave:u}})}}}),fe=e=>(oe("data-v-8e6b0760"),e=e(),le(),e),ve=fe(()=>ne("div",{class:"login-txt"},"登入",-1)),pe={__name:"Login",setup(e){const i=$(),l=A(),n=J(),v=K(),u=g(""),s=g(""),r=g(!1),c=g(!1),b=f(()=>!u.value||!s.value||r.value),h=async()=>{r.value=!0,await n.login({username:u,password:s}).then(()=>{if(r.value=!1,l.query.redirect)try{i.push({path:l.query.redirect});return}catch(m){i.push({name:"Portal"})}else i.push({name:"bd-register"})}).catch(m=>{v.showError({text:m})}),r.value=!1};return Q(()=>{n.clearToken()}),W(()=>{n.clearToken()}),(m,d)=>(X(),Y(Z,null,[a(ue,{class:"login-content"},{default:t(()=>[a(re,{class:"fill-height",fluid:""},{default:t(()=>[a(p,{class:"login-row","no-gutters":"",justify:"center"},{default:t(()=>[a(S,{cols:"12",sm:"auto",class:"avatar-col"},{default:t(()=>[a(ee,{src:V(ce),width:"14.5312vw"},null,8,["src"])]),_:1}),a(S,{class:"form-col text-center"},{default:t(()=>[a(de,{onSubmit:ae(h,["prevent"]),disabled:r.value},{default:t(()=>[a(te,{defaults:{VRow:{noGutters:!0},VTextField:{variant:"solo",density:"default"}}},{default:t(()=>[a(p,{class:"input-label"},{default:t(()=>[_("帳號")]),_:1}),a(k,{class:"username-text-field input-text",modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=o=>u.value=o),modelModifiers:{trim:!0}},null,8,["modelValue"]),a(p,{class:"input-label"},{default:t(()=>[_("密碼")]),_:1}),a(k,{class:"input-text",modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=o=>s.value=o),modelModifiers:{trim:!0},"append-inner-icon":c.value?"mdi-eye-off":"mdi-eye",type:c.value?"text":"password","onClick:appendInner":d[2]||(d[2]=o=>c.value=!c.value)},null,8,["modelValue","append-inner-icon","type"]),a(p,{justify:"end"},{default:t(()=>[a(me,null,{default:t(({isHovering:o,props:C})=>[a(x,se(C,{class:{"text-decoration-underline":o},variant:"text"}),{default:t(()=>[_("忘記密碼")]),_:2},1040,["class"])]),_:1})]),_:1}),a(p,{class:"submit-btn-row"},{default:t(()=>[a(x,{color:"primary",block:"",loading:r.value,disabled:V(b),type:"submit"},{default:t(()=>[ve]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1})]),_:1}),a(ie,{class:"login-footer"},{default:t(()=>[_("Copyright © Insto 盈士多科技 版權所有")]),_:1})],64))}},_e=G(pe,[["__scopeId","data-v-8e6b0760"]]);export{_e as default};
